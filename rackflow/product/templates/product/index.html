{% extends "base.html" %} {% load static %}
<style>
  .material-icons {
    vertical-align: middle;
  }
  .card-hover-shadow {
    transition: box-shadow 0.3s ease-in-out;
  }
  .card-hover-shadow:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
</style>
<body class="bg-gray-100">
  {% block content %}
  <div class="container mx-auto p-6 md:p-8">
    <header class="flex flex-col sm:flex-row justify-between items-center mb-8">
      <div>
        <h1 class="text-3xl font-bold text-gray-800">Product List</h1>
      </div>
      <button
        class="mt-4 sm:mt-0 bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg shadow-sm flex items-center"
      >
        <span class="material-icons mr-2">add_circle_outline</span>
        Add product
      </button>
    </header>
    <div
      class="mb-6 flex flex-col sm:flex-row justify-between items-center gap-4"
    >
      <div class="flex gap-4 w-full sm:w-auto">
        <div class="relative w-full sm:w-auto">
          <select
            class="appearance-none w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          >
            {% for category in categories%}
            <option>{{category.name}}</option>
            {%endfor%}
          </select>
        </div>
        <div class="relative w-full sm:w-auto">
          <select
            class="appearance-none w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          >
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          <div
            class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
          ></div>
        </div>
      </div>
      <div class="relative w-full sm:w-auto mt-4 sm:mt-0">
        <span
          class="material-icons absolute inset-y-2 left-0 flex items-center pl-3 text-gray-400"
          >search</span
        >
        <input
          class="w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 pl-10 rounded-lg focus:outline-none focus:bg-white focus:border-gray-500"
          placeholder="Search..."
          type="text"
        />
      </div>
    </div>
    <div
      class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6"
    >
      {% for product in products%}
      <div
        class="bg-white rounded-xl shadow-lg overflow-hidden card-hover-shadow"
      >
        <img
          alt="{{ product.name}}"
          class="w-full h-48 object-cover"
          src="{% static 'images/product_placeholder.png' %}"
        />
        <div class="p-5">
          <h3 class="text-lg font-semibold text-gray-800 mb-1">
            {{product.name}}
          </h3>
          <p class="text-sm text-gray-500 mb-3">{{product.category}}</p>
          <div class="flex justify-between items-center mb-3">
            <p class="text-xl font-bold text-gray-800">{{product.quantity}}</p>
          </div>
          <!-- <div class="mb-3">
              <p class="text-xs text-gray-500 mb-1">Stock Status</p>
              <div class="w-full bg-red-200 rounded-full h-2.5">
                <div
                  class="bg-red-500 h-2.5 rounded-full"
                  style="width: 15%"
                ></div>
              </div>
              <p class="text-xs text-red-600 mt-1">Out of stock</p>
            </div>
            <p class="text-xs text-gray-400">Created: 02 Jul 2025, 10:55 AM</p>
          </div>
          <div class="p-5 border-t border-gray-200 flex justify-center">
            <button
            class="  mt-4 sm:mt-0 bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg shadow-sm flex items-center"
            >
            <span class="material-icons mr-2">add_circle_outline</span>
            Add to orders 
          </button>
          -->
        </div>
      </div>
      {% endfor %}
    </div>
    <footer
      class="mt-8 flex flex-col sm:flex-row justify-between items-center text-sm text-gray-600"
    >
      <div class="flex items-center space-x-2 mb-4 sm:mb-0">
        <span>Rows per page:</span>
        <div class="relative">
          <select
            class="appearance-none bg-white border border-gray-300 text-gray-700 py-1 px-2 pr-6 rounded-md leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
          >
            <option>10</option>
            <option>20</option>
            <option>50</option>
          </select>
          <div
            class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-1 text-gray-700"
          ></div>
        </div>
      </div>
      <div class="flex flex-col sm:flex-row items-center justify-between gap-4 mt-8 text-sm text-gray-600">
  <!-- Items count -->
  <div class="flex items-center">
    <span>Showing {{ page_obj.start_index }}-{{ page_obj.end_index }} of {{ page_obj.paginator.count }} items</span>
  </div>

  <!-- Pagination controls -->
  <nav aria-label="Page navigation">
    <ul class="flex items-center space-x-1">
      <!-- Previous Button -->
      <li class="{% if not page_obj.has_previous %}opacity-50 pointer-events-none{% endif %}">
        <a 
          href="{% if page_obj.has_previous %}?page={{ page_obj.previous_page_number }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}{% endif %}"
          class="flex items-center justify-center p-2 rounded-md hover:bg-gray-200 transition-colors"
          aria-label="Previous page"
          {% if not page_obj.has_previous %}aria-disabled="true" tabindex="-1"{% endif %}
        >
          <span class="material-icons">chevron_left</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>

      <!-- First Page -->
      {% if page_obj.number|add:'-3' > 1 %}
        <li>
          <a 
            href="?page=1{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}"
            class="flex items-center justify-center w-10 h-10 rounded-md hover:bg-gray-200 transition-colors"
          >
            1
          </a>
        </li>
        <li class="flex items-center justify-center w-10 h-10">
          <span>...</span>
        </li>
      {% endif %}

      <!-- Page Numbers -->
      {% for num in page_obj.paginator.page_range %}
        {% if num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
          <li>
            <a 
              href="?page={{ num }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}"
              class="flex items-center justify-center w-10 h-10 rounded-md transition-colors {% if page_obj.number == num %}bg-orange-500 text-white{% else %}hover:bg-gray-200{% endif %}"
              aria-current="{% if page_obj.number == num %}page{% endif %}"
            >
              {{ num }}
            </a>
          </li>
        {% endif %}
      {% endfor %}

      <!-- Last Page -->
      {% if page_obj.number|add:'3' < page_obj.paginator.num_pages %}
        <li class="flex items-center justify-center w-10 h-10">
          <span>...</span>
        </li>
        <li>
          <a 
            href="?page={{ page_obj.paginator.num_pages }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}"
            class="flex items-center justify-center w-10 h-10 rounded-md hover:bg-gray-200 transition-colors"
          >
            {{ page_obj.paginator.num_pages }}
          </a>
        </li>
      {% endif %}

      <!-- Next Button -->
      <li class="{% if not page_obj.has_next %}opacity-50 pointer-events-none{% endif %}">
        <a 
          href="{% if page_obj.has_next %}?page={{ page_obj.next_page_number }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}{% endif %}"
          class="flex items-center justify-center p-2 rounded-md hover:bg-gray-200 transition-colors"
          aria-label="Next page"
          {% if not page_obj.has_next %}aria-disabled="true" tabindex="-1"{% endif %}
        >
          <span class="material-icons">chevron_right</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
    </ul>
  </nav>
</div>
    </footer>
  </div>
  {% endblock %}
</body>
